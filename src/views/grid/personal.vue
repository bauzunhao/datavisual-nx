<template>
    <div class="app">
        <div class="phoneheat">
            <h2>拉萨市网格信访</h2>
            <p>账号状态：{{userStatusText}}</p>
        </div>
        <div class="cont" >
            <el-row @click.native="handleNext('info', false)">
                <el-col :span="2">
                    <svg t="1728452016561" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="11447" width="30" height="30">
                        <path d="M500.044329 0C335.637725 0 202.382928 133.254797 202.382928 297.661401s133.254797 297.649978 297.661401 297.649978 297.649978-133.254797 297.649978-297.649978S664.485204 0 500.044329 0z m0 71.430968c124.93851 0 226.184739 101.291923 226.184739 226.184739s-101.2805 226.184739-226.184739 226.184739-226.184739-101.326194-226.184739-226.264703 101.269076-226.070504 226.184739-226.104775z"
                            fill="#666666" p-id="11448"></path>
                        <path d="M502.134824 523.880411a466.203302 466.203302 0 0 1 218.028381 53.690316 35.721196 35.721196 0 0 1-33.310844 63.194646 394.829451 394.829451 0 0 0-184.717537-45.453994c-218.188309 0-395.000803 175.921464-395.000803 392.967425a35.721196 35.721196 0 0 1-71.442392 0C35.691629 731.741901 244.581232 523.880411 502.134824 523.880411z m450.347524 202.40107a35.721196 35.721196 0 0 1 3.427041 71.282464l-3.427041 0.159928H666.769898a35.721196 35.721196 0 0 1-3.427041-71.271039l3.427041-0.171353z m0 214.315752a35.721196 35.721196 0 0 1 3.427041 71.27104l-3.427041 0.171352H666.769898a35.721196 35.721196 0 0 1-3.427041-71.27104l3.427041-0.171352z"
                            fill="#666666" p-id="11449"></path>
                    </svg>
                </el-col>
                <el-col :span="20">
                    <p>个人信息完善</p>
                </el-col>
                <el-col :span="2">
                    <i class="el-icon-arrow-right"></i>
                </el-col>
            </el-row>
            <el-row @click.native="handleNext('card', false)">
                <el-col :span="2">
                    <svg t="1728452429033" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="12813" width="30" height="30">
                        <path d="M1015.878075 737.575751a25.572909 25.572909 0 0 0 0-36.441395 26.212231 26.212231 0 0 0-36.441395 0l-266.597573 263.400959-159.191356-155.35542a24.294263 24.294263 0 0 0-33.884104 0 23.015618 23.015618 0 0 0 0 33.244781l177.731715 174.535102a23.654941 23.654941 0 0 0 17.261713 7.03255 26.212231 26.212231 0 0 0 19.179682-7.671872z m0 0"
                            fill="" p-id="12814"></path>
                        <path d="M838.785683 745.886946a467.984229 467.984229 0 0 0-255.729087-177.092393A301.760323 301.760323 0 0 0 457.11002 1.07598a301.760323 301.760323 0 0 0-150.240838 575.390446A463.50897 463.50897 0 0 0 0.6336 924.897307a32.605459 32.605459 0 0 0 31.966136 38.998686 21.736972 21.736972 0 0 0 21.736972-17.901036 409.805862 409.805862 0 0 1 734.581803-166.223907 29.408845 29.408845 0 0 0 30.048167 11.507809 28.769522 28.769522 0 0 0 19.819005-45.391913zM500.583965 547.057581a242.942633 242.942633 0 0 1-56.899722 7.671872A278.105382 278.105382 0 0 1 384.22723 550.893517a255.729087 255.729087 0 0 1-145.126256-86.947889A251.893151 251.893151 0 0 1 456.470698 52.221798a251.893151 251.893151 0 0 1 225.041596 319.661358A250.614505 250.614505 0 0 1 639.956317 448.601882a255.729087 255.729087 0 0 1-139.372352 98.455699z"
                            fill="" p-id="12815"></path>
                    </svg>
                </el-col>
                <el-col :span="20">
                    <p>实名认证</p>
                </el-col>
                <el-col :span="2">
                    <i class="el-icon-arrow-right"></i>
                </el-col>
            </el-row>
            <el-row @click.native="handleNext('complaint', false)">
                <el-col :span="2">
                    <svg t="1728445986706" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="7766" width="30" height="30" fill="currentColor">
                        <path d="M744.727273 325.818182V279.272727c0-102.4-83.781818-186.181818-186.181818-186.181818H279.272727C176.872727 93.090909 93.090909 176.872727 93.090909 279.272727v465.454546c0 102.4 83.781818 186.181818 186.181818 186.181818h279.272728v-46.545455H279.272727c-79.127273 0-139.636364-60.509091-139.636363-139.636363V279.272727c0-79.127273 60.509091-139.636364 139.636363-139.636363h279.272728c79.127273 0 139.636364 60.509091 139.636363 139.636363v46.545455h46.545455z"
                            fill="currentColor" p-id="7767"></path>
                        <path d="M512 418.909091H279.272727c0-79.127273 60.509091-139.636364 139.636364-139.636364s139.636364 60.509091 139.636364 139.636364h-46.545455c0-51.2-41.890909-93.090909-93.090909-93.090909s-93.090909 41.890909-93.090909 93.090909h186.181818z"
                            fill="currentColor" p-id="7768"></path>
                        <path d="M418.909091 279.272727c79.127273 0 139.636364 60.509091 139.636364 139.636364s-60.509091 139.636364-139.636364 139.636364v-32.581819-13.963636c51.2 0 93.090909-41.890909 93.090909-93.090909s-41.890909-93.090909-93.090909-93.090909V279.272727zM372.363636 512h46.545455v139.636364H372.363636zM372.363636 698.181818h46.545455v46.545455H372.363636z"
                            fill="currentColor" p-id="7769"></path>
                        <path d="M837.818182 330.472727l83.781818 37.236364c23.272727 9.309091 32.581818 37.236364 23.272727 60.509091L754.036364 837.818182c-4.654545 9.309091-9.309091 13.963636-18.618182 18.618182L609.745455 930.909091l-27.927273-139.636364c0-9.309091 0-18.618182 4.654545-27.927272l190.836364-409.6c9.309091-23.272727 37.236364-32.581818 60.509091-23.272728z m0 51.2c-13.963636-4.654545-23.272727 0-32.581818 9.309091l-176.872728 381.672727c0 4.654545-4.654545 9.309091 0 13.963637l9.309091 79.127273 65.163637-41.89091 9.309091-9.30909 176.872727-381.672728c4.654545-13.963636 0-23.272727-9.309091-32.581818l-41.890909-18.618182z"
                            fill="currentColor" p-id="7770"></path>
                    </svg>
                </el-col>
                <el-col :span="20">
                    <p>我的投诉</p>
                </el-col>
                <el-col :span="2">
                    <i class="el-icon-arrow-right"></i>
                </el-col>
            </el-row>
            <el-row @click.native="handleNext('suggestion', false)">
                <el-col :span="2">
                    <svg
                        t="1728442982528"
                        class="icon"
                        viewBox="0 0 1179 1024"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        p-id="6009"
                        width="30"
                        height="30"
                        fill="currentColor"
                    >
                        <path d="M1179.044103 982.340442H0v39.30147h1179.044103v-39.30147z" p-id="6010"></path>
                        <path d="M746.924439 687.579416L196.507351 686.793387l0.196507-39.301471 510.722604 0.78603-0.589522-491.268376h39.30147l0.786029 530.569846z"
                            p-id="6011"></path>
                        <path d="M708.998521 39.301667a28.100551 28.100551 0 0 1 19.650735 8.253308l382.992826 382.599812a28.297058 28.297058 0 0 1 0 39.30147L597.382346 984.502023l-259.979225-4.912684L67.402021 709.391732a28.297058 28.297058 0 0 1 0-39.30147L688.954771 47.554975a28.100551 28.100551 0 0 1 19.650735-8.253308m0-39.30147a67.402021 67.402021 0 0 0-47.751286 19.650735L39.30147 641.596696a67.598529 67.598529 0 0 0 0 95.69908l281.595033 281.202018 292.402938 5.502206L1139.742633 497.949823a67.598529 67.598529 0 0 0 0-95.69908L756.946314 19.650932a67.402021 67.402021 0 0 0-47.751286-19.650735z"
                            p-id="6012"></path>
                    </svg>
                </el-col>
                <el-col :span="20">
                    <p>我的建议</p>
                </el-col>
                <el-col :span="2">
                    <i class="el-icon-arrow-right"></i>
                </el-col>
            </el-row>
            <el-row @click.native="handleNext('password', false)">
                <el-col :span="2">
                    <svg t="1728452944014" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="15526" width="30" height="30">
                        <path d="M790.528 765.3376c0 46.4896-17.6128 80.2816-64.512 80.2816H215.8592c-46.8992 0-70.656-21.504-70.656-67.9936V246.3744c0-46.4896 17.6128-61.6448 64.512-61.6448h208.2816c18.6368 0 33.792-13.1072 33.792-31.9488 0-16.5888-13.5168-30.1056-30.3104-30.1056H187.392c-56.7296-0.2048-102.8096 45.4656-103.0144 101.9904v580.8128c0.2048 56.7296 46.4896 102.4 103.0144 102.1952h562.7904c56.7296 0 103.0144-45.8752 103.0144-102.1952V582.0416c0-18.2272-14.9504-32.9728-33.1776-32.5632-17.6128 0.4096-29.696 14.7456-29.696 32.3584l0.2048 183.5008z m101.376-592.2816l-60.2112-53.6576c-15.7696-15.7696-37.2736-24.3712-59.392-24.3712-22.528 0-43.4176 8.6016-59.392 24.3712l-340.992 342.016c-12.4928 12.4928-50.5856 48.3328-51.2 65.7408v0.4096L289.792 700.416c-2.048 9.4208 6.144 17.8176 15.5648 15.7696l187.5968-33.1776c8.192-1.4336 38.2976-32.768 54.0672-48.3328l351.232-348.16c15.7696-15.7696 20.48-32.5632 20.48-54.6816-0.2048-22.1184-11.0592-43.008-26.8288-58.7776z m-455.0656 471.04l-87.8592 20.8896c-5.7344 1.2288-11.0592-3.8912-9.6256-9.6256l22.9376-84.1728c0.4096-2.2528 3.2768-3.072 4.9152-1.4336l70.4512 69.8368c1.2288 1.4336 0.8192 3.6864-0.8192 4.5056z m42.5984-24.576c-1.2288 0.6144-2.6624 0.6144-3.6864-0.4096l-88.4736-89.7024c-1.024-1.024-1.2288-2.6624-0.2048-3.8912 9.4208-12.4928 271.5648-274.432 271.5648-274.432 1.2288-1.2288 3.072-1.2288 4.096 0l94.0032 93.184c1.2288 1.2288 1.2288 3.072 0 4.096 0.2048 0.2048-266.0352 264.192-277.2992 271.1552z m373.9648-360.6528l-60.416 60.2112c-1.024 1.024-2.8672 1.024-4.096 0l-98.304-95.232c-1.2288-1.2288-1.2288-2.8672 0-4.096L751.2064 159.744c6.3488-6.3488 14.9504-9.8304 23.9616-9.8304s17.6128 3.4816 23.9616 9.8304l54.4768 52.0192c6.3488 6.3488 9.8304 14.7456 9.8304 23.7568 0 8.6016-3.6864 17.2032-10.0352 23.3472z m0 0"
                            fill="#666666" p-id="15527"></path>
                    </svg>
                </el-col>
                <el-col :span="20">
                    <p>修改密码</p>
                </el-col>
                <el-col :span="2">
                    <i class="el-icon-arrow-right"></i>
                </el-col>
            </el-row>
        </div>
        <GridBottomNavBar active='personal' :community-id="communityId"/>
    </div>
</template>

<script setup>
import GridBottomNavBar from '@/components/GridBottomNavBar';
import {getDetail} from '@/api/grid/user';

export default {
    name: "personal",
    components: {
        GridBottomNavBar,
    },
    computed: {
        communityId() {
            return this.$route.query.communityId
        }
    },
    data() {
        return {
            userStatusText: "正常",
            checkType: 0,
            checkStatus: false
        }
    },
    mounted() {
        this.initUserDetail();
    },
    methods: {
        initUserDetail() {
            getDetail().then(res => {
                if (res && 200 === res.code) {
                    let user = res.data;
                    let text = 0 === user.status ? "正常" : "停用"
                    let checkTypeText = "待认证";
                    this.checkType = user.checkType;
                    this.checkStatus = 1 === user.checkType;
                    switch (this.checkType) {
                        case 1:
                            checkTypeText = "已认证";
                            break;
                        case 2:
                            checkTypeText = "认证未通过";
                            break;
                    }
                    this.userStatusText = text + "(" + checkTypeText + ")";
                }
            });
        },
        handleNext(page, check) {
            if (check && !this.checkStatus) {
                this.$modal.msgError("实名制认证暂时未通过，请耐心等待");
                return;
            }
            this.$router.push({
                path: '/grid/user/' + page,
                query: {
                    communityId: this.communityId
                }
            });
        }
    }
}

</script>

<style scoped lang="scss">
.app {
    padding: 20px 10px;
    padding-bottom: 60px;

    .phoneheat {
        margin-bottom: 20px;

        h2 {
            font-size: 28px;
            margin: 10px 0;
            text-align: center;
        }

        p {
            font-size: 16px;
            text-align: right;
        }
    }

    .cont {
        .el-row {
            padding: 10px 40px;
            border-top: 1px solid #ccc;

            svg {
                height: 24px;
                width: 24px;
            }

            p, i {
                margin: 0;
                margin-left: 10px;
                font-size: 16px;
                height: 24px;
                line-height: 24px;
            }
        }

        .el-row:last-child {
            border-bottom: 1px solid #ccc;
        }

    }
}
</style>
